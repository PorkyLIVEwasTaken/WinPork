@echo off
setlocal enabledelayedexpansion

rem set "variable=YourVariableContent" // Most of the times, this is %passwd% or %sudopasswd%, but it can be a different variable if necessary.
rem set "file=YourFilePath.txt" // Most of the times, this will be the .wpshdw file. Therefore, this line is omitted here, but it can be used if necessary.

rem Iterate through each line in the file
for /f "delims=" %%a in (%file%) do (
    set "line=%%a"
    
    rem Compare the line with the variable
    if !line! equ !variable! (
        echo Match found!
    ) else (
        echo No match.
    )
)

endlocal